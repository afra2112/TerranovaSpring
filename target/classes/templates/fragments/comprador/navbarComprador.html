<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <div th:fragment="navbarComprador">
      <header class="border-b border-gray-200 bg-white sticky top-0 z-50 shadow-sm">
          <div class="container mx-auto px-4 py-4">
              <div class="flex items-center justify-between">
                  <div class="flex items-center space-x-2">
                      <span class="text-2xl font-bold text-[#388e3c]">Terranova</span>
                  </div>

                  <nav class="hidden md:flex items-center space-x-8">
                      <a th:classappend="${explorar} ? 'text-[#388e3c]' : 'text-gray-700'" th:href="@{/comprador/explorar}" class="hover:text-[#388e3c] transition-colors font-medium">Explorar</a>
                      <a href="#" class="text-gray-700 hover:text-[#388e3c] transition-colors font-medium">Mis Favoritos</a>
                      <a href="#" class="text-gray-700 hover:text-[#388e3c] transition-colors font-medium">Citas</a>
                      <a href="#" class="text-gray-700 hover:text-[#388e3c] transition-colors font-medium">Notificaciones</a>
                  </nav>

                  <div class="flex items-center space-x-4">
                      <div class="relative">
                          <div class="flex items-center space-x-2 bg-gray-100 rounded-full px-3 py-2 cursor-pointer hover:bg-gray-200 transition-colors" onclick="toggleUserDropdown()">
                              <div th:if="${usuario.foto == null}" class="w-8 h-8 bg-[#388e3c] rounded-full flex items-center justify-center">
                                  <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                  </svg>
                              </div>
                              <div th:if="${usuario.foto != null}" class="w-8 h-8 rounded-full overflow-hidden flex items-center justify-center">
                                  <img th:src="@{'/' + ${usuario.foto}}" alt="Foto de perfil" class="w-full h-full object-cover">
                              </div>
                              <span class="text-sm font-medium text-gray-700" th:text="${nombreMostrar}"></span>
                              <svg class="w-4 h-4 text-gray-500 transition-transform duration-200" id="dropdownArrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                              </svg>
                          </div>

                          <div id="userDropdown" class="absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50 opacity-0 invisible transform scale-95 transition-all duration-200">
                              <a th:classappend="${miPerfil} ? 'text-[#388e3c]' : 'text-gray-700'" th:href="@{/usuarios/mi-perfil(id=${1})}" class="hover:text-[#388e3c] transition-colors flex items-center px-4 py-3 transition-colors">
                                  <svg th:classappend="${miPerfil} ? 'text-[#388e3c]' : 'text-gray-700'" class="w-4 h-4 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                  </svg>
                                  Mi Perfil
                              </a>
                              <hr class="my-1 border-gray-100">
                              <a th:if="${esVendedor}" th:href="@{/vendedor/dashboard}" class="hover:text-[#388e3c] transition-colors flex items-center px-4 py-3 transition-colors">
                                  <svg class="w-4 h-4 mr-3 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M7 7h.01M3 11l9-9 9 9-9 9-9-9z"/>
                                  </svg>
                                  Panel Vendedor
                              </a>
                              <hr class="my-1 border-gray-100">
                              <form th:action="@{/logout}" method="post"><button type="submit"><a class="flex items-center px-4 py-3 text-red-600 hover:bg-red-50 transition-colors">
                                  <svg class="w-4 h-4 mr-3 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                                  </svg>
                                  Cerrar Sesi√≥n
                              </a></button></form>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </header>
  </div>
</body>
</html>