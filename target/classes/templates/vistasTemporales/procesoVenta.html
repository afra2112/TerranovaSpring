<!DOCTYPE html>
<html xmlns:th="www.thymeleaf.org">
<head>
    <title>Detalle de Venta - Vendedor | Terranova</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'DM Sans', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #059669 0%, #10b981 100%); }
        .gradient-hero { background: linear-gradient(135deg, #064e3b 0%, #059669 50%, #10b981 100%); }

        .step-item {
            position: relative;
            padding-bottom: 1.5rem;
        }
        .step-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 20px;
            top: 45px;
            width: 2px;
            height: calc(100% - 15px);
            background: #e5e7eb;
        }
        .step-item.completed:not(:last-child)::after { background: #10b981; }
        .step-item.active:not(:last-child)::after { background: linear-gradient(to bottom, #10b981, #e5e7eb); }

        .step-icon {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step-pending .step-icon { background: #f3f4f6; color: #9ca3af; border: 3px solid #e5e7eb; }
        .step-active .step-icon { background: linear-gradient(135deg, #059669 0%, #10b981 100%); color: white; border: 3px solid #10b981; animation: pulse 2s infinite; }
        .step-completed .step-icon { background: #10b981; color: white; border: 3px solid #10b981; }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
        }

        .badge-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .file-upload-area {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .file-upload-area:hover {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .traceability-card {
            border-left: 4px solid #10b981;
            background: linear-gradient(to right, rgba(16, 185, 129, 0.05), transparent);
        }

        .form-section {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .info-box {
            background: linear-gradient(135deg, rgba(3, 102, 214, 0.05) 0%, rgba(3, 102, 214, 0.02) 100%);
            border: 2px solid #3b82f6;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .success-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(16, 185, 129, 0.02) 100%);
            border: 2px solid #10b981;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(251, 146, 60, 0.05) 0%, rgba(251, 146, 60, 0.02) 100%);
            border: 2px solid #fb923c;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .checkbox-group {
            display: grid;
            gap: 0.75rem;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-item:hover {
            border-color: #10b981;
            background: #f0fdf4;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .btn-primary {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary:hover {
            box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.4);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .document-item {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .document-item:hover {
            border-color: #10b981;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .document-icon {
            width: 48px;
            height: 48px;
            background: #f0fdf4;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .document-icon i {
            color: #10b981;
            font-size: 1.5rem;
        }
    </style>
</head>
<body class="bg-gray-50">

<div class="min-h-screen">
    <div th:replace="fragments/vendedor/navbarVendedor :: navbarVendedor"></div>

    <div class="ml-64 flex flex-col min-h-screen">
        <main class="w-full mx-auto px-8 py-8">

            <!-- Hero Section -->
            <div class="gradient-hero rounded-3xl p-8 mb-8 text-white relative overflow-hidden">
                <div class="absolute inset-0 bg-black/10"></div>
                <div class="relative z-10 flex items-center justify-between">
                    <div>
                        <div class="flex items-center gap-3 mb-3">
                            <a th:href="@{/vendedor/ventas}" class="text-white/80 hover:text-white transition">
                                <i class='bx bx-arrow-back text-2xl'></i>
                            </a>
                            <h1 class="text-4xl font-bold">Proceso de Venta</h1>
                        </div>
                        <p class="text-xl font-semibold text-emerald-100" th:text="${venta.venta.producto.nombreProducto}">Nombre del Producto</p>
                        <p class="text-3xl font-bold mt-2" th:text="'$' + ${#numbers.formatInteger(venta.venta.producto.precioProducto, 0, 'COMMA')}">$1,200,000</p>
                    </div>

                    <!-- Tipo de producto -->
                    <div class="text-right">
                        <p class="text-emerald-100 text-sm mb-1">Tipo de Producto</p>
                        <div class="inline-flex items-center gap-2 bg-white/20 px-4 py-2 rounded-xl">
                            <i class='bx bx-package text-2xl'></i>
                            <span class="font-bold text-lg" th:text="${tipoProducto}">GANADO</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Layout: Sidebar + Content -->
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">

                <!-- Sidebar: Steps Timeline -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-lg p-6 sticky top-8">
                        <h3 class="text-xl font-bold text-gray-900 mb-6">Pasos del Proceso</h3>

                        <div class="space-y-2">
                            <!-- Paso 1: Seleccionar Comprador (TODOS) -->
                            <div class="step-item" th:classappend="${venta.venta.pasoActual == 1 ? 'step-active' : (venta.venta.pasoActual > 1 ? 'step-completed' : 'step-pending')}">
                                <div class="flex items-start gap-3">
                                    <div class="step-icon">
                                        <i th:if="${venta.venta.pasoActual > 1}" class='bx bx-check text-xl'></i>
                                        <span th:unless="${venta.venta.pasoActual > 1}">1</span>
                                    </div>
                                    <div class="flex-1">
                                        <h4 class="font-semibold text-gray-900">Seleccionar Comprador</h4>
                                        <p class="text-sm text-gray-600 mt-1">Elige quién comprará el producto</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Pasos específicos según tipo de producto -->
                            <div th:if="${tipoProducto == 'GANADO'}">
                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 2 ? 'step-active' : (venta.venta.pasoActual > 2 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 2}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 2}">2</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Oferta y Aceptación</h4>
                                            <p class="text-sm text-gray-600 mt-1">Acuerdo de términos</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 3 ? 'step-active' : (venta.venta.pasoActual > 3 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 3}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 3}">3</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Documentación Sanitaria</h4>
                                            <p class="text-sm text-gray-600 mt-1">Certificados y garantías</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Cambiado de "Depósito/Pago Inicial" a "Pago Total" -->
                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 4 ? 'step-active' : (venta.venta.pasoActual > 4 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 4}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 4}">4</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Pago Total</h4>
                                            <p class="text-sm text-gray-600 mt-1">100% del valor acordado</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 5 ? 'step-active' : (venta.venta.pasoActual > 5 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 5}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 5}">5</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Logística/Entrega</h4>
                                            <p class="text-sm text-gray-600 mt-1">Transporte y recepción</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div th:if="${tipoProducto == 'TERRENO'}">
                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 2 ? 'step-active' : (venta.venta.pasoActual > 2 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 2}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 2}">2</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Oferta y Aceptación</h4>
                                            <p class="text-sm text-gray-600 mt-1">Negociación de precio</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 3 ? 'step-active' : (venta.venta.pasoActual > 3 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 3}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 3}">3</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Documentos Previos</h4>
                                            <p class="text-sm text-gray-600 mt-1">Escrituras y certificados</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 4 ? 'step-active' : (venta.venta.pasoActual > 4 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 4}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 4}">4</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Avalúo y Due Diligence</h4>
                                            <p class="text-sm text-gray-600 mt-1">Verificación del terreno</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 5 ? 'step-active' : (venta.venta.pasoActual > 5 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 5}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 5}">5</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Contrato Preliminar</h4>
                                            <p class="text-sm text-gray-600 mt-1">Firma y depósito</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 6 ? 'step-active' : (venta.venta.pasoActual > 6 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 6}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 6}">6</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Trámites Notariales</h4>
                                            <p class="text-sm text-gray-600 mt-1">Escrituración</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 7 ? 'step-active' : (venta.venta.pasoActual > 7 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 7}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 7}">7</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Cierre y Transferencia</h4>
                                            <p class="text-sm text-gray-600 mt-1">Registro final</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div th:if="${tipoProducto == 'FINCA'}">
                                <div class="step-item" th:classappend="${venta.venta.pasoActual == 2 ? 'step-active' : (venta.venta.pasoActual > 2 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.pasoActual > 2}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.pasoActual > 2}">2</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Oferta y Aceptación</h4>
                                            <p class="text-sm text-gray-600 mt-1">Acuerdo de términos</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.venta.pasoActual == 3 ? 'step-active' : (venta.venta.venta.pasoActual > 3 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.venta.pasoActual > 3}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.venta.pasoActual > 3}">3</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Inventario Detallado</h4>
                                            <p class="text-sm text-gray-600 mt-1">Activos incluidos</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.venta.pasoActual == 4 ? 'step-active' : (venta.venta.venta.pasoActual > 4 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.venta.pasoActual > 4}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.venta.pasoActual > 4}">4</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Documentos Legales</h4>
                                            <p class="text-sm text-gray-600 mt-1">Escrituras y permisos</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.venta.pasoActual == 5 ? 'step-active' : (venta.venta.venta.pasoActual > 5 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.venta.pasoActual > 5}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.venta.pasoActual > 5}">5</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Revisión Técnica</h4>
                                            <p class="text-sm text-gray-600 mt-1">Inspección de campo</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.venta.pasoActual == 6 ? 'step-active' : (venta.venta.venta.pasoActual > 6 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.venta.pasoActual > 6}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.venta.pasoActual > 6}">6</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Contrato y Depósito</h4>
                                            <p class="text-sm text-gray-600 mt-1">Acuerdo formal</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.venta.pasoActual == 7 ? 'step-active' : (venta.venta.venta.pasoActual > 7 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.venta.pasoActual > 7}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.venta.pasoActual > 7}">7</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Entrega Física</h4>
                                            <p class="text-sm text-gray-600 mt-1">Traspaso de activos</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="step-item" th:classappend="${venta.venta.venta.pasoActual == 8 ? 'step-active' : (venta.venta.venta.pasoActual > 8 ? 'step-completed' : 'step-pending')}">
                                    <div class="flex items-start gap-3">
                                        <div class="step-icon">
                                            <i th:if="${venta.venta.venta.pasoActual > 8}" class='bx bx-check text-xl'></i>
                                            <span th:unless="${venta.venta.venta.pasoActual > 8}">8</span>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-semibold text-gray-900">Cierre y Registro</h4>
                                            <p class="text-sm text-gray-600 mt-1">Finalización</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="lg:col-span-3 space-y-6">

                    <div th:if="${venta.venta.pasoActual == 1}">
                        <div class="mb-6">
                            <h2 class="text-3xl font-bold text-gray-900 mb-2">Paso 1: Seleccionar Comprador</h2>
                            <p class="text-gray-600">Elige el comprador de entre los asistentes a la cita</p>
                        </div>

                        <form th:action="@{/vendedor/ventas/seleccionar-comprador}" method="post">
                            <input type="hidden" name="idVenta" th:value="${venta.venta.idVenta}">

                            <div class="space-y-4 mb-8">
                                <div th:each="asistencia : ${asistencias}">
                                    <label class="flex items-center p-4 border-2 border-gray-200 rounded-xl hover:border-emerald-500 hover:bg-emerald-50 transition cursor-pointer">
                                        <input type="radio" name="cedula" th:value="${asistencia.usuario.cedula}" class="w-5 h-5 text-emerald-600" required>
                                        <div class="ml-4 flex items-center gap-4 flex-1">
                                            <img th:if="${asistencia.usuario.foto != null}"
                                                 th:src="@{'/imagenes/' + ${asistencia.usuario.foto}}"
                                                 class="w-14 h-14 rounded-full object-cover border-2 border-gray-300"
                                                 th:alt="${asistencia.usuario.nombres}">
                                            <div th:if="${asistencia.usuario.foto == null}"
                                                 class="w-14 h-14 gradient-bg rounded-full flex items-center justify-center text-white font-bold text-xl">
                                                <span th:text="${#strings.substring(asistencia.usuario.nombres, 0, 1)}">U</span>
                                            </div>
                                            <div class="flex-1">
                                                <p class="font-bold text-gray-900" th:text="${asistencia.usuario.nombres + ' ' + asistencia.usuario.apellidos}">Usuario</p>
                                                <p class="text-sm text-gray-600" th:text="${asistencia.usuario.email}">email@example.com</p>
                                                <p class="text-sm text-gray-500" th:text="'CC: ' + ${asistencia.usuario.cedula}">CC: 123456789</p>
                                            </div>
                                            <div class="text-right">
                                                    <span class="px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-semibold">
                                                        <i class='bx bx-check-circle'></i> Asistió
                                                    </span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div class="flex gap-4">
                                <a th:href="@{/vendedor/ventas}" class="px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition">
                                    Cancelar
                                </a>
                                <button type="submit" class="flex-1 px-6 py-3 gradient-bg text-white rounded-xl font-semibold hover:shadow-lg transition">
                                    Continuar al Siguiente Paso <i class='bx bx-right-arrow-alt ml-2'></i>
                                </button>
                            </div>
                        </form>
                    </div>

                    <div th:replace="${fragment}"></div>

<!--                    &lt;!&ndash; PASO 2: GANADO - Documentación Sanitaria &ndash;&gt;-->
<!--                    <div th:if="${tipoProducto == 'GANADO' && venta.pasoActual >= 2}">-->
<!--                        <div class="form-section">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-file-blank text-emerald-600'></i>-->
<!--                                Paso 2: Documentación Sanitaria Obligatoria-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Asegúrese de que toda la documentación requerida esté vigente y disponible</p>-->

<!--                            <div class="info-box">-->
<!--                                <div class="flex gap-3">-->
<!--                                    <i class='bx bx-info-circle text-2xl text-blue-600 flex-shrink-0'></i>-->
<!--                                    <div>-->
<!--                                        <p class="font-bold text-blue-900">Requisitos Legales Colombianos</p>-->
<!--                                        <p class="text-sm text-blue-800 mt-2">La movilización de ganado en Colombia está regulada por el ICA (Instituto Colombiano Agropecuario) y la Resolución 6915 de 2022 del Ministerio de Transporte. Todos estos documentos son OBLIGATORIOS.</p>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">-->
<!--                                &lt;!&ndash; GSMI &ndash;&gt;-->
<!--                                <div class="document-item">-->
<!--                                    <div class="document-icon"><i class='bx bx-shield-check'></i></div>-->
<!--                                    <div class="flex-1">-->
<!--                                        <p class="font-bold text-gray-900">GSMI Vigente</p>-->
<!--                                        <p class="text-sm text-gray-600">Guía Sanitaria de Movilización Interna del ICA</p>-->
<!--                                        <p class="text-xs text-gray-500 mt-1">Costo: $6,000 COP | Vigencia: según fecha de expedición</p>-->
<!--                                        <div th:if="${venta.documentoGSMI}" class="mt-2 flex items-center gap-2">-->
<!--                                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold"><i class='bx bx-check'></i> Cargado</span>-->
<!--                                        </div>-->
<!--                                        <div th:unless="${venta.documentoGSMI}" class="mt-2">-->
<!--                                            <label class="file-upload-area p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="gsmi" accept=".pdf,.jpg,.jpeg,.png" class="hidden" th:if="${venta.pasoActual == 2}">-->
<!--                                                <span class="text-sm text-gray-600">Subir archivo</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                &lt;!&ndash; Certificados Sanitarios &ndash;&gt;-->
<!--                                <div class="document-item">-->
<!--                                    <div class="document-icon"><i class='bx bx-virus'></i></div>-->
<!--                                    <div class="flex-1">-->
<!--                                        <p class="font-bold text-gray-900">Certificados de Salud</p>-->
<!--                                        <p class="text-sm text-gray-600">Libreta de salud, revisiones, vacunas</p>-->
<!--                                        <p class="text-xs text-gray-500 mt-1">Incluye: Fiebre Aftosa (6 meses mín), Tuberculosis, Brucelosis</p>-->
<!--                                        <div th:if="${venta.documentoCertificados}" class="mt-2 flex items-center gap-2">-->
<!--                                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold"><i class='bx bx-check'></i> Cargado</span>-->
<!--                                        </div>-->
<!--                                        <div th:unless="${venta.documentoCertificados}" class="mt-2">-->
<!--                                            <label class="file-upload-area p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="certificados" accept=".pdf,.jpg,.jpeg,.png" multiple class="hidden" th:if="${venta.pasoActual == 2}">-->
<!--                                                <span class="text-sm text-gray-600">Subir archivo(s)</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                &lt;!&ndash; Pruebas Serológicas &ndash;&gt;-->
<!--                                <div class="document-item">-->
<!--                                    <div class="document-icon"><i class='bx bx-test-tube'></i></div>-->
<!--                                    <div class="flex-1">-->
<!--                                        <p class="font-bold text-gray-900">Pruebas Serológicas</p>-->
<!--                                        <p class="text-sm text-gray-600">Resultados negativos de laboratorio</p>-->
<!--                                        <p class="text-xs text-gray-500 mt-1">Brucelosis y Tuberculosis (según edad y sexo)</p>-->
<!--                                        <div th:if="${venta.documentoPruebas}" class="mt-2 flex items-center gap-2">-->
<!--                                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold"><i class='bx bx-check'></i> Cargado</span>-->
<!--                                        </div>-->
<!--                                        <div th:unless="${venta.documentoPruebas}" class="mt-2">-->
<!--                                            <label class="file-upload-area p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="pruebas" accept=".pdf,.jpg,.jpeg,.png" class="hidden" th:if="${venta.pasoActual == 2}">-->
<!--                                                <span class="text-sm text-gray-600">Subir archivo</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                &lt;!&ndash; Inventario de Animales &ndash;&gt;-->
<!--                                <div class="document-item">-->
<!--                                    <div class="document-icon"><i class='bx bx-list-ul'></i></div>-->
<!--                                    <div class="flex-1">-->
<!--                                        <p class="font-bold text-gray-900">Inventario del Lote</p>-->
<!--                                        <p class="text-sm text-gray-600">Identificación de cada animal</p>-->
<!--                                        <p class="text-xs text-gray-500 mt-1">DIN (chapetas), marcas, características</p>-->
<!--                                        <div th:if="${venta.documentoInventario}" class="mt-2 flex items-center gap-2">-->
<!--                                            <span class="inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-bold"><i class='bx bx-check'></i> Cargado</span>-->
<!--                                        </div>-->
<!--                                        <div th:unless="${venta.documentoInventario}" class="mt-2">-->
<!--                                            <label class="file-upload-area p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="inventario" accept=".pdf,.xlsx,.xls,.jpg,.jpeg,.png" class="hidden" th:if="${venta.pasoActual == 2}">-->
<!--                                                <span class="text-sm text-gray-600">Subir archivo</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            &lt;!&ndash; Confirmaciones &ndash;&gt;-->
<!--                            <div class="warning-box mt-6">-->
<!--                                <p class="font-bold text-orange-900 mb-4">Confirmaciones Requeridas</p>-->
<!--                                <div class="checkbox-group">-->
<!--                                    <label class="checkbox-item">-->
<!--                                        <input type="checkbox" required>-->
<!--                                        <span class="text-sm text-orange-900">Confirmo que toda la documentación es verídica y está actualizada</span>-->
<!--                                    </label>-->
<!--                                    <label class="checkbox-item">-->
<!--                                        <input type="checkbox" required>-->
<!--                                        <span class="text-sm text-orange-900">Asumo responsabilidad legal sobre la veracidad de esta información</span>-->
<!--                                    </label>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="flex gap-4 mt-6">-->
<!--                                <button class="btn-secondary">Atrás</button>-->
<!--                                <button class="btn-primary flex-1">Guardar y Continuar <i class='bx bx-right-arrow-alt'></i></button>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; PASO 3: GANADO - Pago Total &ndash;&gt;-->
<!--                    <div th:if="${tipoProducto == 'GANADO' && venta.pasoActual >= 3}">-->
<!--                        <div class="form-section">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-dollar-circle text-emerald-600'></i>-->
<!--                                Paso 3: Pago Total-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Monitorea el estado de pago del comprador</p>-->

<!--                            <div class="bg-gradient-to-br from-emerald-50 to-teal-50 border-2 border-emerald-300 rounded-xl p-8 mb-6">-->
<!--                                <div class="text-center">-->
<!--                                    <p class="text-sm text-emerald-700 font-semibold mb-2">Monto Total a Recibir</p>-->
<!--                                    <p class="text-6xl font-bold text-gray-900 mb-4" th:text="'$' + ${#numbers.formatInteger(venta.precioTotal, 0, 'COMMA')}">$0</p>-->

<!--                                    <div class="mb-6">-->
<!--                                        <div class="flex justify-between mb-3">-->
<!--                                            <span class="text-sm font-semibold text-emerald-900">Progreso de Pago</span>-->
<!--                                            <span class="text-sm font-bold text-emerald-700" th:text="${venta.pagado ? '100%' : '0%'}">0%</span>-->
<!--                                        </div>-->
<!--                                        <div class="w-full bg-white rounded-full h-4 overflow-hidden">-->
<!--                                            <div class="gradient-bg h-full rounded-full transition-all duration-1000"-->
<!--                                                 th:style="'width: ' + (${venta.pagado} ? '100%' : '0%')"></div>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    <span class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-lg font-bold"-->
<!--                                          th:classappend="${venta.pagado ? 'bg-green-200 text-green-700' : 'bg-amber-200 text-amber-700'}">-->
<!--                                        <i th:if="${venta.pagado}" class='bx bx-check-circle'></i>-->
<!--                                        <i th:unless="${venta.pagado}" class='bx bx-time-five'></i>-->
<!--                                        <span th:text="${venta.pagado ? 'Pago Completo Recibido' : 'Esperando Pago del Comprador'}">Estado</span>-->
<!--                                    </span>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div th:if="${venta.pagado}" class="success-box">-->
<!--                                <div class="flex gap-4">-->
<!--                                    <i class='bx bx-check-circle text-3xl text-green-600 flex-shrink-0'></i>-->
<!--                                    <div>-->
<!--                                        <p class="font-bold text-green-900 text-lg mb-3">Pago Verificado Exitosamente</p>-->
<!--                                        <div class="grid grid-cols-3 gap-3">-->
<!--                                            <div class="bg-white rounded-lg p-3">-->
<!--                                                <p class="text-xs text-gray-600 mb-1">Método</p>-->
<!--                                                <p class="font-bold text-gray-900" th:text="${venta.metodoPago}">Método</p>-->
<!--                                            </div>-->
<!--                                            <div class="bg-white rounded-lg p-3">-->
<!--                                                <p class="text-xs text-gray-600 mb-1">Fecha</p>-->
<!--                                                <p class="font-bold text-gray-900" th:text="${#temporals.format(venta.fechaPago, 'dd/MM/yyyy')}">Fecha</p>-->
<!--                                            </div>-->
<!--                                            <div class="bg-white rounded-lg p-3">-->
<!--                                                <p class="text-xs text-gray-600 mb-1">Referencia</p>-->
<!--                                                <p class="font-bold text-gray-900" th:text="${venta.referenciaPago}">Ref</p>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div th:unless="${venta.pagado}" class="warning-box">-->
<!--                                <p class="font-bold text-orange-900 mb-3">Pendiente de Pago del Comprador</p>-->
<!--                                <p class="text-sm text-orange-800 mb-4">El comprador recibió una notificación para efectuar el pago total. Recibirás confirmación automática cuando se procese el pago.</p>-->
<!--                                <div class="space-y-2">-->
<!--                                    <div class="flex items-center gap-2 text-sm text-orange-900">-->
<!--                                        <i class='bx bx-calendar'></i>-->
<!--                                        <span>Fecha Límite: <strong th:text="${#temporals.format(venta.fechaLimitePago, 'dd/MM/yyyy')}">Fecha</strong></span>-->
<!--                                    </div>-->
<!--                                    <div class="flex items-center gap-2 text-sm text-orange-900">-->
<!--                                        <i class='bx bx-time'></i>-->
<!--                                        <span>Faltan: <strong th:text="${venta.diasRestantes}">X</strong> días</span>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="flex gap-4 mt-6">-->
<!--                                <button class="btn-secondary">Atrás</button>-->
<!--                                <button class="btn-primary flex-1" th:disabled="${!venta.pagado}">Continuar <i class='bx bx-right-arrow-alt'></i></button>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; PASO 4: GANADO - Movilización y Transporte &ndash;&gt;-->
<!--                    <div th:if="${tipoProducto == 'GANADO' && venta.pasoActual >= 4}">-->
<!--                        <div class="form-section">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-truck text-emerald-600'></i>-->
<!--                                Paso 4: Movilización y Transporte-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Información de trazabilidad del transporte</p>-->

<!--                            <div class="info-box">-->
<!--                                <p class="font-bold text-blue-900 mb-2">Resolución 6915 de 2022 del Ministerio de Transporte</p>-->
<!--                                <ul class="text-sm text-blue-800 space-y-1">-->
<!--                                    <li>Horario permitido: 6:00 AM - 6:00 PM</li>-->
<!--                                    <li>Máximo 10 horas para bovinos adultos / 6 horas para terneros</li>-->
<!--                                    <li>Vehículo debe estar registrado ante ICA</li>-->
<!--                                    <li>Conductor debe cumplir requisitos de capacitación</li>-->
<!--                                </ul>-->
<!--                            </div>-->

<!--                            <form th:action="@{/vendedor/ventas/paso-4-ganado}" method="post" class="space-y-6">-->
<!--                                <input type="hidden" name="idVenta" th:value="${venta.idVenta}">-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-building'></i> Empresa de Transporte (Opcional)</label>-->
<!--                                        <input type="text" name="empresaTransporte" placeholder="Ej: Transportes Ganaderos SA" th:value="${venta.empresaTransporte}">-->
<!--                                        <p class="text-xs text-gray-500 mt-1">Dejar vacío si se coordina directamente</p>-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-calendar'></i> Fecha de Transporte *</label>-->
<!--                                        <input type="date" name="fechaTransporte" required th:value="${venta.fechaTransporte}">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-time'></i> Hora Estimada</label>-->
<!--                                        <input type="time" name="horaTransporte" th:value="${venta.horaTransporte}">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-user-check'></i> Responsable del Transporte *</label>-->
<!--                                        <select name="responsableTransporte" required>-->
<!--                                            <option value="">Selecciona...</option>-->
<!--                                            <option value="VENDEDOR" th:selected="${venta.responsableTransporte == 'VENDEDOR'}">Yo coordino</option>-->
<!--                                            <option value="COMPRADOR" th:selected="${venta.responsableTransporte == 'COMPRADOR'}">Comprador coordina</option>-->
<!--                                            <option value="EMPRESA" th:selected="${venta.responsableTransporte == 'EMPRESA'}">Empresa tercera</option>-->
<!--                                        </select>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-group">-->
<!--                                    <label><i class='bx bx-map-pin'></i> Punto de Entrega *</label>-->
<!--                                    <textarea name="puntoEntrega" required rows="3" placeholder="Dirección completa donde se entregarán los animales" th:text="${venta.puntoEntrega}"></textarea>-->
<!--                                </div>-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-phone'></i> Teléfono de Contacto</label>-->
<!--                                        <input type="tel" name="telefonoTransporte" placeholder="+57 300 123 4567" th:value="${venta.telefonoTransporte}">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-car'></i> Placa del Vehículo</label>-->
<!--                                        <input type="text" name="placaVehiculo" placeholder="ABC-123" th:value="${venta.placaVehiculo}">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-group">-->
<!--                                    <label><i class='bx bx-note'></i> Observaciones</label>-->
<!--                                    <textarea name="observacionesTransporte" rows="3" placeholder="Detalles especiales del transporte..." th:text="${venta.observacionesTransporte}"></textarea>-->
<!--                                </div>-->

<!--                                <div class="success-box">-->
<!--                                    <p class="font-bold text-green-900 mb-3">Documentos que se Generarán</p>-->
<!--                                    <div class="grid grid-cols-2 gap-3">-->
<!--                                        <div class="bg-white rounded-lg p-3">-->
<!--                                            <p class="font-bold text-gray-900">Guía de Transporte (GSMI)</p>-->
<!--                                            <p class="text-xs text-gray-600">Se genera 48h antes</p>-->
<!--                                        </div>-->
<!--                                        <div class="bg-white rounded-lg p-3">-->
<!--                                            <p class="font-bold text-gray-900">Bono de Venta</p>-->
<!--                                            <p class="text-xs text-gray-600">Se genera con GSMI</p>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="flex gap-4">-->
<!--                                    <button type="button" class="btn-secondary">Atrás</button>-->
<!--                                    <button type="submit" class="btn-primary flex-1">Guardar Transporte <i class='bx bx-check-circle'></i></button>-->
<!--                                </div>-->
<!--                            </form>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; PASO 5: GANADO - Finalización &ndash;&gt;-->
<!--                    <div th:if="${tipoProducto == 'GANADO' && venta.pasoActual >= 5}">-->
<!--                        <div class="form-section">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-check-double text-emerald-600'></i>-->
<!--                                Paso 5: Finalización y Cierre-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Resumen completo de la venta con trazabilidad</p>-->

<!--                            <div class="success-box">-->
<!--                                <p class="font-bold text-green-900 text-xl mb-4 flex items-center gap-2"><i class='bx bx-check-circle'></i> Venta Completada Exitosamente</p>-->
<!--                                <p class="text-green-800 mb-4">Todos los pasos del proceso han sido finalizados. La trazabilidad completa está registrada en el sistema.</p>-->
<!--                                <div class="grid grid-cols-3 gap-4 mt-4">-->
<!--                                    <div class="bg-white rounded-lg p-4 text-center">-->
<!--                                        <p class="text-2xl font-bold text-emerald-600">5/5</p>-->
<!--                                        <p class="text-sm text-gray-600">Pasos Completados</p>-->
<!--                                    </div>-->
<!--                                    <div class="bg-white rounded-lg p-4 text-center">-->
<!--                                        <p class="text-2xl font-bold text-emerald-600" th:text="${venta.precioTotal}">$0</p>-->
<!--                                        <p class="text-sm text-gray-600">Dinero Recibido</p>-->
<!--                                    </div>-->
<!--                                    <div class="bg-white rounded-lg p-4 text-center">-->
<!--                                        <p class="text-2xl font-bold text-emerald-600" th:text="${#temporals.format(venta.fechaVenta, 'dd/MM')}">Fecha</p>-->
<!--                                        <p class="text-sm text-gray-600">Fecha de Venta</p>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            &lt;!&ndash; Trazabilidad Resumen &ndash;&gt;-->
<!--                            <div class="bg-white border-2 border-gray-200 rounded-xl p-6 mt-6">-->
<!--                                <p class="font-bold text-gray-900 text-lg mb-4">Trazabilidad Completa del Proceso</p>-->
<!--                                <div class="space-y-3">-->
<!--                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">-->
<!--                                        <span class="flex items-center gap-2"><i class='bx bx-check-circle text-green-600'></i> GSMI Vigente</span>-->
<!--                                        <span class="text-xs font-bold text-green-600">COMPLETADO</span>-->
<!--                                    </div>-->
<!--                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">-->
<!--                                        <span class="flex items-center gap-2"><i class='bx bx-check-circle text-green-600'></i> Documentación Sanitaria</span>-->
<!--                                        <span class="text-xs font-bold text-green-600">COMPLETADO</span>-->
<!--                                    </div>-->
<!--                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">-->
<!--                                        <span class="flex items-center gap-2"><i class='bx bx-check-circle text-green-600'></i> Pago 100% Recibido</span>-->
<!--                                        <span class="text-xs font-bold text-green-600">COMPLETADO</span>-->
<!--                                    </div>-->
<!--                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">-->
<!--                                        <span class="flex items-center gap-2"><i class='bx bx-check-circle text-green-600'></i> Guía de Transporte</span>-->
<!--                                        <span class="text-xs font-bold text-green-600">COMPLETADO</span>-->
<!--                                    </div>-->
<!--                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">-->
<!--                                        <span class="flex items-center gap-2"><i class='bx bx-check-circle text-green-600'></i> Bono de Venta</span>-->
<!--                                        <span class="text-xs font-bold text-green-600">COMPLETADO</span>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="flex gap-4 mt-6">-->
<!--                                <button onclick="window.print()" class="btn-secondary flex items-center gap-2">-->
<!--                                    <i class='bx bx-printer'></i> Imprimir-->
<!--                                </button>-->
<!--                                <a href="#" class="btn-primary flex-1 flex items-center justify-center gap-2">-->
<!--                                    <i class='bx bx-download'></i> Descargar PDF-->
<!--                                </a>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; TERRENO Pasos (2-7) - IMPLEMENTACIÓN COMPLETA &ndash;&gt;-->
<!--                    <div th:if="${tipoProducto == 'TERRENO' && venta.pasoActual >= 2}" class="form-section">-->
<!--                        &lt;!&ndash; PASO 2: Oferta y Aceptación (TERRENO) &ndash;&gt;-->
<!--                        <div th:if="${venta.pasoActual == 2}">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-handshake text-emerald-600'></i>-->
<!--                                Paso 2: Oferta y Aceptación-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Define los términos de venta y espera la aceptación del comprador</p>-->

<!--                            <form th:action="@{/vendedor/ventas/oferta-terreno}" method="post" class="space-y-6">-->
<!--                                <input type="hidden" name="idVenta" th:value="${venta.idVenta}">-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-map-pin'></i> Ubicación del Terreno *</label>-->
<!--                                        <input type="text" name="ubicacion" required placeholder="Dirección completa o coordenadas">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-ruler'></i> Área del Terreno (m²) *</label>-->
<!--                                        <input type="number" name="areaMts2" required min="1" placeholder="10000">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-dollar-circle'></i> Precio Total *</label>-->
<!--                                        <input type="number" name="precioTotal" required th:value="${venta.precioTotal}" placeholder="100000000">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-tag'></i> Precio por m² (Calculado)</label>-->
<!--                                        <input type="number" name="precioMts2" readonly placeholder="Automático" class="bg-gray-50">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-group">-->
<!--                                    <label><i class='bx bx-note'></i> Descripción del Terreno *</label>-->
<!--                                    <textarea name="descripcion" required rows="4" placeholder="Características, topografía, servicios disponibles, accesibilidad, etc."></textarea>-->
<!--                                </div>-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-map'></i> Municipio *</label>-->
<!--                                        <input type="text" name="municipio" required placeholder="Municipio">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-map'></i> Departamento *</label>-->
<!--                                        <input type="text" name="departamento" required placeholder="Departamento">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="info-box">-->
<!--                                    <p class="font-bold text-blue-900 mb-2">Información Importante</p>-->
<!--                                    <p class="text-sm text-blue-800">El comprador recibirá esta oferta para revisión y aceptación. Solo podrás continuar cuando ambas partes lleguen a un acuerdo.</p>-->
<!--                                </div>-->

<!--                                <div class="flex gap-4">-->
<!--                                    <button type="button" class="btn-secondary">Cancelar</button>-->
<!--                                    <button type="submit" class="btn-primary flex-1">Enviar Oferta <i class='bx bx-send'></i></button>-->
<!--                                </div>-->
<!--                            </form>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; PASO 3: Documentos Previos (TERRENO) &ndash;&gt;-->
<!--                        <div th:if="${venta.pasoActual == 3}">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-file-blank text-emerald-600'></i>-->
<!--                                Paso 3: Documentos Previos-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Sube la documentación legal del terreno</p>-->

<!--                            <form th:action="@{/vendedor/ventas/documentos-terreno}" method="post" enctype="multipart/form-data" class="space-y-6">-->
<!--                                <input type="hidden" name="idVenta" th:value="${venta.idVenta}">-->

<!--                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">-->
<!--                                    &lt;!&ndash; Escritura Pública &ndash;&gt;-->
<!--                                    <div class="document-item">-->
<!--                                        <div class="document-icon"><i class='bx bx-file-blank'></i></div>-->
<!--                                        <div class="flex-1">-->
<!--                                            <p class="font-bold text-gray-900">Escritura Pública</p>-->
<!--                                            <p class="text-sm text-gray-600">Original del terreno</p>-->
<!--                                            <label class="file-upload-area mt-3 p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="escritura" accept=".pdf" class="hidden" required>-->
<!--                                                <span class="text-sm text-gray-600">Subir PDF</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    &lt;!&ndash; Certificado de Libertad y Tradición &ndash;&gt;-->
<!--                                    <div class="document-item">-->
<!--                                        <div class="document-icon"><i class='bx bx-certification'></i></div>-->
<!--                                        <div class="flex-1">-->
<!--                                            <p class="font-bold text-gray-900">Libertad y Tradición</p>-->
<!--                                            <p class="text-sm text-gray-600">Certificado catastral vigente</p>-->
<!--                                            <label class="file-upload-area mt-3 p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="libertadTradicion" accept=".pdf" class="hidden" required>-->
<!--                                                <span class="text-sm text-gray-600">Subir PDF</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    &lt;!&ndash; Certificado Catastral &ndash;&gt;-->
<!--                                    <div class="document-item">-->
<!--                                        <div class="document-icon"><i class='bx bx-map-pin'></i></div>-->
<!--                                        <div class="flex-1">-->
<!--                                            <p class="font-bold text-gray-900">Certificado Catastral</p>-->
<!--                                            <p class="text-sm text-gray-600">Datos IGAC actualizados</p>-->
<!--                                            <label class="file-upload-area mt-3 p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="catastral" accept=".pdf" class="hidden" required>-->
<!--                                                <span class="text-sm text-gray-600">Subir PDF</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->

<!--                                    &lt;!&ndash; Certificado de No Deudas &ndash;&gt;-->
<!--                                    <div class="document-item">-->
<!--                                        <div class="document-icon"><i class='bx bx-badge-check'></i></div>-->
<!--                                        <div class="flex-1">-->
<!--                                            <p class="font-bold text-gray-900">No Deudas (Impuestos)</p>-->
<!--                                            <p class="text-sm text-gray-600">Predial y otros gravámenes</p>-->
<!--                                            <label class="file-upload-area mt-3 p-4 text-center cursor-pointer rounded-lg">-->
<!--                                                <i class='bx bx-cloud-upload text-2xl text-emerald-600 block mb-2'></i>-->
<!--                                                <input type="file" name="noDeudas" accept=".pdf" class="hidden" required>-->
<!--                                                <span class="text-sm text-gray-600">Subir PDF</span>-->
<!--                                            </label>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="warning-box">-->
<!--                                    <p class="font-bold text-orange-900 mb-3">Confirmaciones Requeridas</p>-->
<!--                                    <label class="flex items-start gap-3 cursor-pointer">-->
<!--                                        <input type="checkbox" required class="mt-1 w-5 h-5">-->
<!--                                        <span class="text-sm text-orange-900">Confirmo que toda la documentación es original y verídica</span>-->
<!--                                    </label>-->
<!--                                </div>-->

<!--                                <div class="flex gap-4">-->
<!--                                    <button type="button" class="btn-secondary">Atrás</button>-->
<!--                                    <button type="submit" class="btn-primary flex-1">Guardar y Continuar <i class='bx bx-right-arrow-alt'></i></button>-->
<!--                                </div>-->
<!--                            </form>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; PASOS 4-7 TERRENO: Placeholders de contenido (en versión futura se expandirán) &ndash;&gt;-->
<!--                        <div th:if="${venta.pasoActual > 3 && venta.pasoActual <= 7}" class="text-center py-12">-->
<!--                            <i class='bx bx-map text-6xl text-gray-300 mb-4'></i>-->
<!--                            <p class="text-xl font-semibold text-gray-700">Paso <span th:text="${venta.pasoActual}">0</span>: Avalúo y Verificación Legal</p>-->
<!--                            <p class="text-gray-500 mt-2">Formulario específico en desarrollo</p>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; FINCA Pasos (2-8) - IMPLEMENTACIÓN COMPLETA &ndash;&gt;-->
<!--                    <div th:if="${tipoProducto == 'FINCA' && venta.pasoActual >= 2}" class="form-section">-->
<!--                        &lt;!&ndash; PASO 2: Oferta y Aceptación (FINCA) &ndash;&gt;-->
<!--                        <div th:if="${venta.pasoActual == 2}">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-handshake text-emerald-600'></i>-->
<!--                                Paso 2: Oferta y Aceptación-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Define los términos de venta de la finca</p>-->

<!--                            <form th:action="@{/vendedor/ventas/oferta-finca}" method="post" class="space-y-6">-->
<!--                                <input type="hidden" name="idVenta" th:value="${venta.idVenta}">-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-home'></i> Nombre de la Finca *</label>-->
<!--                                        <input type="text" name="nombreFinca" required placeholder="Ej: Finca La Esperanza">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-ruler'></i> Área Total (hectáreas) *</label>-->
<!--                                        <input type="number" name="areaHectareas" required min="0.1" step="0.1" placeholder="50">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-row">-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-dollar-circle'></i> Precio Total *</label>-->
<!--                                        <input type="number" name="precioTotal" required th:value="${venta.precioTotal}" placeholder="500000000">-->
<!--                                    </div>-->
<!--                                    <div class="form-group">-->
<!--                                        <label><i class='bx bx-tag'></i> Precio por hectárea</label>-->
<!--                                        <input type="number" name="precioHectarea" readonly placeholder="Automático" class="bg-gray-50">-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-group">-->
<!--                                    <label><i class='bx bx-note'></i> Descripción Completa *</label>-->
<!--                                    <textarea name="descripcion" required rows="4" placeholder="Características principales, infraestructura, servicios, agua disponible, etc."></textarea>-->
<!--                                </div>-->

<!--                                <div class="warning-box">-->
<!--                                    <p class="font-bold text-orange-900 mb-2">Incluir en la Descripción:</p>-->
<!--                                    <ul class="text-sm text-orange-800 space-y-1">-->
<!--                                        <li>Tipo de ganado actual (si aplica)</li>-->
<!--                                        <li>Infraestructura (casa, establos, abrevaderos)</li>-->
<!--                                        <li>Servicios disponibles (agua, energía, vías)</li>-->
<!--                                        <li>Accesibilidad y condiciones de terreno</li>-->
<!--                                    </ul>-->
<!--                                </div>-->

<!--                                <div class="flex gap-4">-->
<!--                                    <button type="button" class="btn-secondary">Cancelar</button>-->
<!--                                    <button type="submit" class="btn-primary flex-1">Enviar Oferta <i class='bx bx-send'></i></button>-->
<!--                                </div>-->
<!--                            </form>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; PASO 3: Inventario Detallado (FINCA) &ndash;&gt;-->
<!--                        <div th:if="${venta.pasoActual == 3}">-->
<!--                            <h2 class="text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2">-->
<!--                                <i class='bx bx-list-ul text-emerald-600'></i>-->
<!--                                Paso 3: Inventario Detallado-->
<!--                            </h2>-->
<!--                            <p class="text-gray-600 mb-6">Lista completa de activos incluidos en la finca</p>-->

<!--                            <form th:action="@{/vendedor/ventas/inventario-finca}" method="post" class="space-y-6">-->
<!--                                <input type="hidden" name="idVenta" th:value="${venta.idVenta}">-->

<!--                                <div class="bg-blue-50 border-2 border-blue-300 rounded-xl p-6 mb-6">-->
<!--                                    <p class="font-bold text-blue-900 mb-2">Infraestructura Física</p>-->
<!--                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">-->
<!--                                        <div class="form-group">-->
<!--                                            <label>Casa Principal (m²)</label>-->
<!--                                            <input type="number" name="casaPrincipalMts2" placeholder="350">-->
<!--                                        </div>-->
<!--                                        <div class="form-group">-->
<!--                                            <label>Cantidad de Habitaciones</label>-->
<!--                                            <input type="number" name="habitaciones" min="0" placeholder="4">-->
<!--                                        </div>-->
<!--                                        <div class="form-group">-->
<!--                                            <label>Establos/Corrales (m²)</label>-->
<!--                                            <input type="number" name="establosMts2" placeholder="500">-->
<!--                                        </div>-->
<!--                                        <div class="form-group">-->
<!--                                            <label>Bodegas/Almacenes (m²)</label>-->
<!--                                            <input type="number" name="almacenMts2" placeholder="200">-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="bg-green-50 border-2 border-green-300 rounded-xl p-6 mb-6">-->
<!--                                    <p class="font-bold text-green-900 mb-2">Recursos y Servicios</p>-->
<!--                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">-->
<!--                                        <label class="flex items-center gap-2 cursor-pointer">-->
<!--                                            <input type="checkbox" name="tieneAgua"> Acceso a Agua Permanente-->
<!--                                        </label>-->
<!--                                        <label class="flex items-center gap-2 cursor-pointer">-->
<!--                                            <input type="checkbox" name="tieneEnergia"> Energía Eléctrica-->
<!--                                        </label>-->
<!--                                        <label class="flex items-center gap-2 cursor-pointer">-->
<!--                                            <input type="checkbox" name="tienePozo"> Pozo de Agua-->
<!--                                        </label>-->
<!--                                        <label class="flex items-center gap-2 cursor-pointer">-->
<!--                                            <input type="checkbox" name="tieneRiego"> Sistema de Riego-->
<!--                                        </label>-->
<!--                                        <label class="flex items-center gap-2 cursor-pointer">-->
<!--                                            <input type="checkbox" name="tieneViaAcceso"> Vía de Acceso Principal-->
<!--                                        </label>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                <div class="form-group">-->
<!--                                    <label><i class='bx bx-note'></i> Equipos y Maquinaria Incluida *</label>-->
<!--                                    <textarea name="equipos" required rows="3" placeholder="Tractor, arado, implementos, etc."></textarea>-->
<!--                                </div>-->

<!--                                <div class="form-group">-->
<!--                                    <label><i class='bx bx-file-blank'></i> Inventario Completo (archivo adjunto)</label>-->
<!--                                    <input type="file" name="inventarioArchivo" accept=".pdf,.xlsx,.xls">-->
<!--                                </div>-->

<!--                                <div class="flex gap-4">-->
<!--                                    <button type="button" class="btn-secondary">Atrás</button>-->
<!--                                    <button type="submit" class="btn-primary flex-1">Guardar Inventario <i class='bx bx-right-arrow-alt'></i></button>-->
<!--                                </div>-->
<!--                            </form>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; PASOS 4-8 FINCA: Placeholders &ndash;&gt;-->
<!--                        <div th:if="${venta.pasoActual > 3 && venta.pasoActual <= 8}" class="text-center py-12">-->
<!--                            <i class='bx bx-home-heart text-6xl text-gray-300 mb-4'></i>-->
<!--                            <p class="text-xl font-semibold text-gray-700">Paso <span th:text="${venta.pasoActual}">0</span>: Proceso en Desarrollo</p>-->
<!--                            <p class="text-gray-500 mt-2">Formulario específico para este paso</p>-->
<!--                        </div>-->
<!--                    </div>-->

                </div>
            </div>

        </main>
    </div>
</div>

</body>
</html>
